(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(64)},50:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),o=(a(50),a(51),a(29),a(52),a(13)),s=a.n(o),u=a(19),l=a(30),m=a(20),h=a(31),f=a(32),p=a(39),d=a(87),y=a(21),w=a.n(y),E=(a(55),function(e){var t=e.forecast,a=e.scroll;return r.a.createElement(n.Fragment,null,t&&0!==Object.keys(t).length&&r.a.createElement(d.a,{container:!0,className:a?"forecast__container active":"forecast__container",alignItems:"stretch"},Object.keys(t).sort((function(e,t){return w()(e).valueOf()-w()(t).valueOf()})).map((function(e){return r.a.createElement(d.a,{item:!0,className:"forecast__day",xs:!0,key:e},r.a.createElement("h5",null,w()(e).format("ddd, DD")),r.a.createElement("br",null),r.a.createElement("i",{className:"wi wi-owm-".concat(t[e].day.weather[0].id," forecast-icon")}),r.a.createElement("br",null),t[e].day.main.temp_max," \xb0C",r.a.createElement("br",null),t[e].night.main.temp_min," \xb0C",r.a.createElement("br",null),t[e].humidity,"%")}))))}),b=a(35),g=a.n(b),v=a(34),x=(a(60),function(e){var t=e.weather,a=e.scroll;return r.a.createElement(n.Fragment,null,t&&t.main&&r.a.createElement("div",{className:a?"weather-city active":"weather-city"},r.a.createElement(g.a,{className:"weather-city--icon",style:{animation:v.animations.bounceIn}}),r.a.createElement("h2",{className:"weather-city--name"},t.name,", ",t.sys.country),r.a.createElement("i",{className:"wi wi-owm-".concat(t.weather[0].id," weather-icon")}),r.a.createElement("h3",{className:"weather-city--temp"},t.main.temp,r.a.createElement("span",null,"\xb0C")),r.a.createElement("h5",{className:"weather-city--temp-breakdown"},r.a.createElement("span",{className:"min"},"Min: ",t.main.temp_min," \xb0C"),r.a.createElement("span",{className:"max"},"Max: ",t.main.temp_max," \xb0C"),r.a.createElement("span",{className:"hum"},"Humidity: ",t.main.humidity,"%"))))}),_=a(38),N=a(89),O=a(94),j=a(92),k=a(90),C=a(36),D=a.n(C),I=a(91),P=(a(62),Object(N.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:11},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}))),A=function(e){var t=P(),a=Object(n.useState)(),c=Object(_.a)(a,2),i=c[0],o=c[1];return r.a.createElement(k.a,{className:t.root},r.a.createElement(I.a,{component:"form",className:"search-form ".concat(e.scroll?" active":""),onSubmit:function(t){e.setCity(i),t.preventDefault()}},r.a.createElement(O.a,{placeholder:"Search for a city",onChange:function(e){return o(e.target.value)},className:t.input}),r.a.createElement(j.a,{type:"submit","aria-label":"search",className:t.iconButton},r.a.createElement(D.a,null))))},M=a(37),S=a.n(M),L=a(93),B=a(95),U=function(e){var t=e.message;return r.a.createElement(L.a,{style:{backgroundColor:"amber"},anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!t},r.a.createElement(B.a,{message:r.a.createElement("span",null,r.a.createElement(S.a,null)," ",t)}))},Y=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_APPID?Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_APPID:"6cd3cf4d438d90102cedea6cb1ad1b22",R="https://api.openweathermap.org/data/2.5/",q=function(e){return w()(e).format("YYYY-MM-DD")},z=function(e){return e.reduce((function(e,t){return e.main.temp_max>t.main.temp_max?{weather:e.weather,main:e.main}:{weather:t.weather,main:t.main}}))},F=function(e){return e.reduce((function(e,t){return e.main.temp_min<t.main.temp_min?{weather:e.weather,main:e.main}:{weather:t.weather,main:t.main}}))},W=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"weather?q=").concat(t,"&APPID=").concat(Y,"&units=metric")).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"forecast?q=").concat(t,"&APPID=").concat(Y,"&units=metric")).then((function(e){return e.json()})).then((function(e){if("200"!==e.cod)return e;var t=e.list.reduce((function(e,t){return q(t.dt_txt)!==q(e.dt_txt)&&(e[q(t.dt_txt)]={day:0,night:0,humidity:0}),e}),{});return Object.keys(t).forEach((function(a){var n=e.list.filter((function(e){return q(e.dt_txt)===a}));t[a].day=z(n),t[a].night=F(n),t[a].humidity=n[0].main.humidity})),t})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.unsplash.com/search/","photos/?page=1&orientation=landscape&query=").concat(t,"&client_id=").concat("e48cda23f3c9d5b2e91f209fafc5ad18e345aa7aa2b1e81c2122dc4f9edf6f28")).then((function(e){return e.json()})).then((function(e){if(e.results.length)return(t=e.results)[Math.floor(Math.random()*Math.floor(t.length))];var t})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=(a(63),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={city:"London",weather:{},forecast:{},error:{},scroll:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getWeatherData(),window.addEventListener("scroll",(function(){var t=!0;0===window.scrollY&&(t=!1),e.setState({scroll:t})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.city!==t.city&&this.getWeatherData()}},{key:"getWeatherData",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(this.state.city);case 2:return t=e.sent,e.next=5,J(this.state.city);case 5:return a=e.sent,e.next=8,T(this.state.city);case 8:if(n=e.sent,t.placeImage=n?n.urls.regular:"","404"!==(t.cod||a.cod)){e.next=13;break}return this.setState({error:t||a,weather:{},forecast:{}}),e.abrupt("return");case 13:this.setState({weather:t,forecast:a,error:{}});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCity",value:function(e){e&&this.setState({city:e})}},{key:"render",value:function(){var e=this.state,t=e.scroll,a=e.weather,c=e.forecast,i=e.error;return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{container:!0,alignItems:"stretch"},r.a.createElement(d.a,{item:!0,xs:12,className:"main-weather",style:{backgroundImage:"url(".concat(this.state.weather.placeImage,")"),backgroundSize:"cover",backgroundPosition:"center"}},r.a.createElement(A,{setCity:this.setCity.bind(this),scroll:t}),r.a.createElement(x,{weather:a,scroll:t}),r.a.createElement("section",{className:"scroll-down ".concat(t||i.cod?"active":"")},r.a.createElement("i",null,r.a.createElement("span",null)))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(E,{forecast:c,scroll:t}))),i.message&&r.a.createElement(U,{message:i.message}))}}]),t}(r.a.Component));i.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.7bf8734b.chunk.js.map